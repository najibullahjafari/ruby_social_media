<div class="post-wrapper">
  <!-- Post Header -->
  <div class="post-header">
    <h2 class="post-title">Post #<%= @post.id %> by <%= @post.author.name %></h2>
    <% if can? :destroy, @post %>
      <%= link_to 'Delete', @post, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger' %>
    <% end %>
  </div>

  <!-- Post Content -->
  <p class="post-content">
    <%= @post.body %>
  </p>

  <!-- Like and Comment Counts -->
  <div class="post-stats">
    <span class="comment-count">Comments: <%= @post.comments.count %></span>
    <span class="like-count">Likes: <%= @post.likes_counter %></span>
  </div>

  <!-- Like Button -->
  <div class="like-button">
    <%= button_to 'Like', post_likes_path(@post), method: :post, class: 'btn btn-primary' %>
  </div>

  <!-- Comments Section -->
<div class="comments-section">
  <h3>Comments:</h3>
  <% @post.comments.each do |comment| %>
    <div class="comment">
      <strong><%= comment.user.name %>:</strong> <%= comment.content %>
      <% if can? :destroy, comment %>
        <%= link_to 'Delete', comment, method: :delete, data: { confirm: 'Are you sure?' } %>
      <% end %>
    </div>
  <% end %>
</div>


  <!-- Add a Comment Form -->
  <div class="add-comment-form">
    <%= form_with(model: [@post, Comment.new], local: true) do |form| %>
      <div class="form-group">
        <%= form.text_area :content, placeholder: "Add a comment...", class: "form-control" %>
      </div>
      <%= form.submit "Comment", class: 'btn btn-primary comment-button' %>
    <% end %>
  </div>
</div>
